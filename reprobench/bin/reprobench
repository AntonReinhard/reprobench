#!/usr/bin/env python

import sys
import argparse
import yaml

from reprobench.utils import import_class

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description='Run a benchmark based on configuration.')
    parser.add_argument('--runner', default='reprobench.runners.LocalRunner')
    parser.add_argument('config', type=open)
    args = parser.parse_args()
    config = yaml.load(args.config)
    Executor = import_class(args.runner)
    executor = Executor(config)
    executor.run()
