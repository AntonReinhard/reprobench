title: SteinerTree
description: Benchmark for steinertree experiments

limits:
  time: 5 # s
#  time: 3600
  memory: 8048 # mb
  scheduler_memory: 32768 #mb

steps:
  run:
    - module: reprobench.core.sysinfo.CollectSystemInfo4Server
#    - module: reprobench.core.setup.SetupKernel
#      config:
#        transparent_hugepage: madvise
    # TODO: performance govenors / --cpu-freq srun
    - module: reprobench.executors.RunSolverPerfEval
    # provide non-perf runner
    # provide configurable perf parameters
#    - module: reprobench.executors.PsmonExecutor
      config:
        nonzero_rte: False

observers:
  - module: reprobench.core.sysinfo.SystemInfoObserver
#  - module: reprobench.executors.RunStatisticObserver
  - module: reprobench.executors.RunStatisticExtendedObserver

#  analysis:
#    - module: reprobench.statistics.tables.RunTable
#      config:
#        joins:
#          - reprobench.executors.db.RunStatistic
#          - reprobench.core.sysinfo.RunNode
#        output: statistics/raw.csv
#    - module: reprobench.statistics.tables.RunSummaryTable
#      config:
#        output: statistics/summary.csv
#    - module: reprobench.statistics.plots.CactusPlot
#      config:
#        measure: wall_time
#        output: statistics/cactus.ipynb

tasks:
  random:
    type: url
    urls:
      - http://steinlib.zib.de/download/B.tgz
      - http://steinlib.zib.de/download/C.tgz
      - http://steinlib.zib.de/download/D.tgz
      - http://steinlib.zib.de/download/E.tgz
      - http://steinlib.zib.de/download/MC.tgz
      - http://steinlib.zib.de/download/I080.tgz
      - http://steinlib.zib.de/download/I160.tgz
      - http://steinlib.zib.de/download/I320.tgz
      - http://steinlib.zib.de/download/I640.tgz
      - http://steinlib.zib.de/download/P4Z.tgz
      - http://steinlib.zib.de/download/P6Z.tgz
    path: /projects/p_gpusat/steiner/random
    extract_archives: true
    patterns: |
      **/*.stp
      !**/*.tar.bz2
  artificial:
    type: url
    urls:
      - http://steinlib.zib.de/download/PUC.tgz
      - http://steinlib.zib.de/download/SP.tgz
    path: /projects/p_gpusat/steiner/artificial
    extract_archives: true
    patterns: |
      **/*.stp
      !**/*.tar.bz2
  euclidian:
    type: url
    urls:
      - http://steinlib.zib.de/download/X.tgz
      - http://steinlib.zib.de/download/P4E/P4E.tgz
      - http://steinlib.zib.de/download/P6E.tgz
    extract_archives: true
    path: /projects/p_gpusat/steiner/euclidian
    patterns: |
      **/*.stp
      !**/*.tar.bz2
  crossgrid:
    type: url
    urls:
      - http://steinlib.zib.de/download/1R.tgz
      - http://steinlib.zib.de/download/2R.tgz
    extract_archives: true
    path: /projects/p_gpusat/steiner/crossgrid
    patterns: |
      **/*.stp
      !**/*.tar.bz2
  vlsi:
    type: url
    urls:
      - http://steinlib.zib.de/download/ALUE.tgz
      - http://steinlib.zib.de/download/ALUT.tgz
      - http://steinlib.zib.de/download/DIW.tgz
      - http://steinlib.zib.de/download/DMXA.tgz
      - http://steinlib.zib.de/download/GAP.tgz
      - http://steinlib.zib.de/download/MSM.tgz
      - http://steinlib.zib.de/download/TAQ.tgz
      - http://steinlib.zib.de/download/LIN.tgz
    extract_archives: true
    path: /projects/p_gpusat/steiner/vlsi
    patterns: |
      **/*.stp
      !**/*.tar.bz2
  pace:
    type: url
    urls:
      - http://www.lamsade.dauphine.fr/~sikora/pace18/exactLowTerm.zip
      - https://www.lamsade.dauphine.fr/~sikora/tmp/qmsldkfc/trackApriv.zip
    extract_archives: true
    path: /projects/p_gpusat/steiner/pace
    patterns: |
      **/*.gr
      !**/*.tar.bz2
      !**/*.zip
  rectlinear:
    type: url
    urls:
      - http://steinlib.zib.de/download/ES10FST.tgz
      - http://steinlib.zib.de/download/ES20FST.tgz
      - http://steinlib.zib.de/download/ES30FST.tgz
      - http://steinlib.zib.de/download/ES40FST.tgz
      - http://steinlib.zib.de/download/ES50FST.tgz
      - http://steinlib.zib.de/download/ES60FST.tgz
      - http://steinlib.zib.de/download/ES70FST.tgz
      - http://steinlib.zib.de/download/ES80FST.tgz
      - http://steinlib.zib.de/download/ES100FST.tgz
      - http://steinlib.zib.de/download/ES250FST.tgz
      - http://steinlib.zib.de/download/ES500FST.tgz
      - http://steinlib.zib.de/download/ES1000FST.tgz
      - http://steinlib.zib.de/download/ES10000FST.tgz
      - http://steinlib.zib.de/download/TSPFST.tgz
    extract_archives: true
    path: /projects/p_gpusat/steiner/rectlinear
    patterns: |
      **/es80fst04.stp
      !**/*.tar.bz2
#      **/*.stp
#  vienna:
#    type: url
#    urls:
#      - http://dimacs11.zib.de/instances/vienna.zip
#    extract_archives: true
#    path: /projects/p_gpusat/steiner/vienna
#    patterns: |
#      **/*.stp
#      !**/*.tar.bz2
#  copenhagen:
#    type: url
#    urls:
#      - http://dimacs11.zib.de/instances/Copenhagen14.zip
#    extract_archives: true
#    path: /projects/p_gpusat/steiner/copenhagen
#    patterns: |
#      **/*.stp
#      !**/*.tar.bz2
#  group:
#    type: url
#    urls:
#      - http://steinlib.zib.de/download/WRP3.tgz
#      - http://steinlib.zib.de/download/WRP4.tgz
#    extract_archives: true
#    path: /projects/p_gpusat/steiner/group
#    patterns: |
#      **/*.stp
#      !**/*.tar.bz2


tools:
#TODO:
# hsv
# old python tool with various options
# old cython
#  hsv:
#    module: experiment.steiner.tool.tuw_cpp.steinerExecutor.SteinerTool
#    parameters:
#      default:
#        d: 2
#        b: 0
#        a:
#        t:
#        r:
#        g:
#  hsv-da:
#    module: experiment.steiner.tool.tuw_cpp.steinerExecutor.SteinerTool
#    parameters:
#      default:
#        d: 2
#        b: 0
#        t:
#        r:
#        g:
#        q: 6
  hsv:
    module: experiment.steiner.tool.tuw_cpp.steinerExecutor.SteinerTool
  scipjack_upstream:
    module: experiment.steiner.tool.tuw_cpp.steinerExecutor.SteinerTool
    parameters:
      default:
        q:
  scipjack_pace:
    module: experiment.steiner.tool.tuw_cpp.steinerExecutor.SteinerTool
    parameters:
      default:
        q:

  wata:
    module: experiment.steiner.tool.tuw_cpp.steinerExecutor.SteinerTool

#  tuw_cython:
#    module: experiment.steiner.tool.steinerExecutor.SteinerPyTool
#    parameters:
#      default:
  tuw_cpp_glibc:
    module: experiment.steiner.tool.tuw_cpp.steinerExecutor.SteinerTool
    parameters:
      default:
        t:
          - 0
          - 1

#TODO:
runs:
  tuw_cpp_glibc:
    all:
      - group
      - copenhagen
      - vienna
      - rectlinear
      - pace
      - vlsi
      - crossgrid
      - euclidian
      - artificial
      - random
  wata:
    all:
      - group
      - copenhagen
      - vienna
      - rectlinear
      - pace
      - vlsi
      - crossgrid
      - euclidian
      - artificial
      - random
  scipjack:
    all:
      - group
      - copenhagen
      - vienna
      - rectlinear
      - pace
      - vlsi
      - crossgrid
      - euclidian
      - artificial
      - random
