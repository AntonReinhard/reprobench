title: THP
description: Benchmark for different runtimes with and without glibc hack

limits:
#  time: 5 # s
  time: 900
#  time: 7200
  memory: 1024 #mb
  #  memory: 8048 # mb
  scheduler_memory: 64384 #32768 #mb

steps:
  run:
    - module: reprobench.core.sysinfo.CollectSystemInfo4Server
    - module: reprobench.core.setup.SetupKernel
      config:
        transparent_hugepage: always
    #    transparent_hugepage: madvise
    # TODO: performance govenors / --cpu-freq srun
    - module: reprobench.executors.RunSolverPerfEval
    # provide non-perf runner
    # provide configurable perf parameters
#    - module: reprobench.executors.PsmonExecutor
      config:
        nonzero_rte: False

observers:
  - module: reprobench.core.sysinfo.SystemInfoObserver
#  - module: reprobench.executors.RunStatisticObserver
  - module: reprobench.executors.RunStatisticExtendedObserver

#  analysis:
#    - module: reprobench.statistics.tables.RunTable
#      config:
#        joins:
#          - reprobench.executors.db.RunStatistic
#          - reprobench.core.sysinfo.RunNode
#        output: statistics/raw.csv
#    - module: reprobench.statistics.tables.RunSummaryTable
#      config:
#        output: statistics/summary.csv
#    - module: reprobench.statistics.plots.CactusPlot
#      config:
#        measure: wall_time
#        output: statistics/cactus.ipynb

tasks:
#  dimacs2:
#    type: file
#    path: /files/00-DBAI/home/jfichte/projects/p_gpusat/automated-reasoner-builds/benchmarks/DIMACS-2
#    extract_archives: false
#    patterns: |
#      **/*.cnf
#      !**/.*
#      !**/.*~
#  satlib:
#    type: file
#    path: /files/00-DBAI/home/jfichte/projects/p_gpusat/automated-reasoner-builds/benchmarks/satlib
#    extract_archives: false
#    patterns: |
#      **/*.cnf
#      !**/*.gz
#      !**/.*
#      !**/.*~
  sat_gauss_bench:
    type: file
#    urls:
#      - https://www.cs.uni-potsdam.de/wv/projects/sets/set-industrial-09-12-gauss.tar.xz
#    path: /projects/p_gpusat/automated-reasoner-builds/benchmarks/SAT_gauss
    path: /files/00-DBAI/home/jfichte/projects/p_gpusat/automated-reasoner-builds/benchmarks/SAT_gauss
    extract_archives: true
    patterns: |
      **/*
      !**/*.tar.bz2
      !**/*.tar.xz
      !**/*.tar.gz
      !**/*.tgz
      !**/.*
      !**.*~
#      AProVE09-05.cnf.gz
#      AProVE09-01.cnf.gz
#      **/*

#  sat2014_app_bench:
#    type: file
##    urls:
##      - http://satcompetition.org/2014/files/sc14-app.tar
#    path: /scratch/p_gpusat/automated-reasoner-builds/benchmark/SAT_2014app/
##    path: ./tasks/thp/sat/
#    extract_archives: true
#    err_patterns: |
#      **/*.cnf.lzma
#      **/*
#      !**/*.tar.bz2
#      !**/*.tar.xz
#      !**/*.tar.gz
#      !**/*.tgz
#      !**/*.tar
#      !**/.*
#      !**.*~

# #TODO: separate runs
tools:
  sat_arch:
    module: experiment.satarch.tool.sat.satExecutor.SATTool
    parameters:
      #name of parameter configuration: we may have multiple ones
      default:
        s:
          - MapleLCMDistChrBt-DL-v3
          - glucose-syrup-4.1
          - minisat_1.12b
          - siege_v4
#          - zchaff.2004.05.13
#          - MiniSat_v1.12b
          - lingeling2013
          - minisat_2005
          - sath-berkmin561-2003
#          - sath-limmat-2003
          - sath-siege-2003
          - sath-berkmin62-2003
#          - sath-maple-lcmchronobt_scavel_ewma-2019
#         - sath-zchaff-2003
#          - sath-glucose-2016
#          - sath-satzilla-2003
#          - sath-glucose-4.2.1-2019
#          - sath-satzilla2-2003
          - sath-cadical-sc2020-2020
#          - sath-maple-lcmdistchronobt_scavel_ewma_08all-2019
#          - zchaff.2001
#          - zchaff.2004.11.15
          - cadical
          - lingeling_276
#          - minisat_core
          - sato3.2
#          - zchaff.2001.2.17
#          - zchaff.2007.03.12_x64
#          - cadical-rel-1.2.1
          - lingeling_glibc
          - minisat_simp
          - siege_v1
#          - zchaff.2001.2.17_32
#          - zchaff03
#          - cadical-rel-1.3.0
          - minisat2.0
          - siege_v3
#          - zchaff.2001.2.17_i686
#           - MapleLCMDiscChronoBT-DL-v3
#           - cadical
#           - clasp
#           - cryptominisat5
#           - cryptominisat5_simple
#           - glucose-4.2.1
#           - manysat2.0
#           - mergesat
#           - minisat
#           - monosat
#           - picosat
#           - lingeling
#           - BerkMin561
#           - BerkMin62
#           - zchaff03
# #          - minisat
          - knuth_cnf_sat13_cdcl.sh       
          - knuth_cnf_sat13_cdcl_nopp.sh
          - knuth_cnf_sat11_lookahead.sh
          - knuth_cnf_sat11_lookahead_nopp.sh
          - knuth_cnf_sat10_dpll.sh
          - knuth_cnf_sat10_dpll_nopp.sh
# #          - mergesat
# #          - plingeling
# #          - grasp96
# #          - lingeling_276
# #          - minisat_2005
# #          - minisat_1.12b
# #          - glucose-4.2.1
# #          - lingeling
# #          - cadical
# #          - lingeling2013
# #          - lingelingplain
# #          - MapleLCMDiscChronoBT-DL-v3
# #          - zchaff.2001
# #          - sato3.2 
# #          - glucose-syrup-4.1
# #          - minisat_simp
# #          - minisat_core
# #          - satz_x86_64 #TODO
# #          - zchaff.2001.2.17_i686
# #          - zchaff.2001.2.17_32
# #          - zchaff.2004.05.13
# #          - zchaff.2004.11.15
# #          - zchaff.2007.03.12_x64
# #          - grasp.1996_jkf_mh
# #          - grasp.2008.06.22_armin1
# #          - grasp.2008.06.22_armin2
# #          - cryptominisat5
# #          - belsat
# # DOES NOT WORK YET
# #          - berkmin
# #          - minisat2.0
# #          - rsat_2.0
# #          - siege_v1
# #          - siege_v3
# #          - siege_v4
# #          - ubcsat2006gsat
# #          - ubcsat2006gsats
# #          - ubcsat2006gwsat
# #          - ubcsat2006gsat-tabu
# #          - ubcsat2006hsat
# #          - ubcsat2006hwsat
# #          - ubcsat2006walksat
# #          - ubcsat2006walksat-tabu
# #          - ubcsat2006novelty
# #          - ubcsat2006novelty+
# #          - ubcsat2006novelty++
# #          - ubcsat2006adaptnovelty+
# #          - ubcsat2006rnovelty
# #          - ubcsat2006rnovelty+
# #          - ubcsat2006saps
# #          - ubcsat2006rsaps
# #          - ubcsat2006sapsnr
# #          - ubcsat2006paws
# #          - ubcsat2006ddfw
# #          - ubcsat2006g2wsat
# #          - ubcsat2006rots
# #          - ubcsat2006irots
# #          - ubcsat2006samd
# #          - ubcsat2006urwalk
# #          - ubcsat2006crwalk

#TODO:
runs:
  sat_arch:
    all:
      - sat_gauss_bench
#      - satlib
#      - dimacs2
#      - sat_gauss_bench
#      - sat2014_app_bench
