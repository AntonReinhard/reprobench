title: clasp
description: Benchmark for different runtimes with and without glibc hack

limits:
  time: 5 # s
  memory: 4024 # mb

steps:
  run:
    - module: reprobench.core.sysinfo.CollectSystemInfo
    - module: reprobench.executors.RunSolverPerfEval
#    - module: reprobench.executors.PsmonExecutor
      config:
        nonzero_rte: false
#  analysis:
#    - module: reprobench.statistics.tables.RunTable
#      config:
#        joins:
#          - reprobench.executors.db.RunStatistic
#          - reprobench.core.sysinfo.RunNode
#        output: statistics/raw.csv
#    - module: reprobench.statistics.tables.RunSummaryTable
#      config:
#        output: statistics/summary.csv
#    - module: reprobench.statistics.plots.CactusPlot
#      config:
#        measure: wall_time
#        output: statistics/cactus.ipynb

observers:
  - module: reprobench.core.sysinfo.SystemInfoObserver
  - module: reprobench.executors.RunStatisticObserver

tasks:
  asp-bench:
    type: url
    urls:
      #- http://aspcomp2015.dibris.unige.it/SteinerTree.zip
      - http://aspcomp2015.dibris.unige.it/GraphColouring.zip
    path: ./tasks/steiner
    extract_archives: true
    patterns: |
      **/*.asp
      !**/encoding.asp
      !**/*.tar.bz2
      !**/example/**
      !**/checker/**

#tasks:
#  satlib:
#    type: url
#    urls:
#      - https://www.cs.ubc.ca/~hoos/SATLIB/Benchmarks/SAT/GCP/flat30-60.tar.gz
#    path: ./tasks/test
#    extract_archives: true
#    patterns: |
#      **/*.cnf
#      !**/*.tar.bz2
#

tools:
  no-hack:
    module: clasp-tool.ClaspASPTool
    parameters:
      default:
        encoding: "tasks/steiner/GraphColouring/GraphColouring/encoding.asp"
  with-hack:
    module: clasp-tool.ClaspASPToolLibc
    parameters:
      default:
        encoding: "tasks/steiner/GraphColouring/GraphColouring/encoding.asp"
