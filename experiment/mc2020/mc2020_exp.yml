title: THP
description: Benchmark for different runtimes with and without glibc hack

limits:
  time: 5 # s
  memory: 8048 # mb
  scheduler_memory: 32768 #mb

steps:
  run:
    - module: reprobench.core.sysinfo.CollectSystemInfo
    - module: reprobench.core.setup.SetupKernel
      config:
        transparent_hugepage: madvise
    # TODO: performance govenors / --cpu-freq srun
    - module: reprobench.executors.RunSolverPerfEval
    # provide non-perf runner
    # provide configurable perf parameters
#    - module: reprobench.executors.PsmonExecutor
      config:
        nonzero_rte: False

observers:
  - module: reprobench.core.sysinfo.SystemInfoObserver
#  - module: reprobench.executors.RunStatisticObserver
  - module: reprobench.executors.RunStatisticExtendedObserver

#TODO: read from all_configs
additional_config_files:
  - "thp_exp_tasks.yml"
  - "thp_exp_tools.yml"
  - "thp_exp_analysis.yml"

